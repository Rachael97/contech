<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Handphone Accessory</title>

    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
	
	<!-- Custom CSS -->
	<link href="css/custom.css" rel="stylesheet" type="text/css">
	<link href="css/shop-homepage.css" rel="stylesheet">
	<link href="css/portfolio-item.css" rel="stylesheet">
	
    <!-- Theme CSS -->
    <link href="css/grayscale.min.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

	<style>
		body {
			padding: 80px;
		}
		
		.button {
			background-color: #000;
			border: none;
			font-size: 18px;
			transition: all 0.5s;
			cursor: pointer;
			
		}

		.button span {
			cursor: pointer;
			display: inline-block;
			position: relative;
			transition: 0.5s;
		}

		.button span:after {
			content: '\00AB';
			position: absolute;
			opacity: 0;
			top: 0;
			left: -20px;
			transition: 0.5s;
		}

		.button:hover span {
			padding-left: 25px;
		}

		.button:hover span:after {
			opacity: 1;
			left: 0;
		}
	</style>
	
</head>

<body>

   <!-- Navigation -->
    <nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                    Menu <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand page-scroll" href="#page-top">
                    <i class="fa fa-play-circle"></i> <span class="light">Start</span> Shopping
                </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="about.html">About</a>
                    </li>
                    <li  class="active">
                        <a href="purchase.html">Purchase</a>
                    </li>
                    <li>
                        <a href="contact.html">Contact Us</a>
                    </li>
					 <li>
                        <a href="login.html">Log In</a>
                    </li>
					
					<li class="dropdown">
						<a href="#" class="dropdown-toggle mega-dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="glyphicon glyphicon-shopping-cart"></i> 
						</a>
							<ul class="dropdown-menu">	
								<li>
									<table >
									<h2><i>Your Shopping Cart:</i></h2>
										<thead>
											<tr>
												<th>Product</th>
												<th>Product Code</th>
												<th>QTY</th>
												<th>Price (RM)</th>
												<th>Subtotal (RM)</th>
												<th>Clear</th>
											</tr>
										</thead>
																							
										<tbody id="accessoryCart">                
										</tbody>
														
										<tfoot>
											<tr>
												<td colspan="4">Total</td>
												<td id="myTotal">0</td>
												<td></td>
											</tr>
										</tfoot>
									</table>
									<div class="panel-body text-right">
										<a href="cart.html" class="btn btn-danger btn-sm" style="color: #fff; border-radius: 10px">Checkout</a>
									</div>
								</li>			
							</ul>				
					</li>							
				</ul> 				
			</div>						
		</div>					
	</nav>
	
	<!-- Page Content -->
    

        <!-- Portfolio Item Heading -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Iphone Cable
                    <small>#A00001</small>
                </h1>
            </div>
        </div>
        <!-- /.row -->

        <!-- Portfolio Item Row -->
        <div class="row">

            <div class="col-md-8">
                <img class="img-responsive" src="img/cableA.jpg" alt="cable">
            </div>

            <div class="col-md-4">
                
				<div class="col-md-7">
					<h3>Description</h3>
				</div>	
				<div class="col-md-5">
					<span class="label label-default" style="display:inline-block; font-size:18px"><i class="glyphicon glyphicon-tags"> &nbsp </i>$1.99</span>
				</div>
				
				<div class="col-md-12">
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam viverra euismod odio, gravida pellentesque urna varius vitae. Sed dui lorem, adipiscing in adipiscing et, interdum nec metus. Mauris ultricies, justo eu convallis placerat, felis enim.</p>
                <h3>Details</h3>
                <ul>
                    <li>Lorem Ipsum</li>
                    <li>Dolor Sit Amet</li>
                    <li>Consectetur</li>
                    <li>Adipiscing Elit</li>
                </ul>
				</div>
				
            </div>
		
			<div class="pull-right clearfix">
				<button class="margin-clear btn btn-default">
				<a href="javascript:addCart('Iphone Cable','#A00001',1.99,'img/cableA.jpg');">Add To Cart</a></button>
			</div>
			
			
        </div>
        <!-- /.row -->

        <!-- Related Projects Row -->
        <div class="row">

            <div class="col-lg-12">
                <h3 class="page-header">Related Items</h3>
            </div>

            <div class="col-sm-3 col-xs-6">
                <a href="#">
                    <img class="img-responsive portfolio-item" src="img/cableA1.jpg" alt="cable">
                </a>
            </div>

            <div class="col-sm-3 col-xs-6">
                <a href="#">
                    <img class="img-responsive portfolio-item" src="img/cableA2.jpg" alt="cable">
                </a>
            </div>

            <div class="col-sm-3 col-xs-6">
                <a href="#">
                    <img class="img-responsive portfolio-item" src="img/cableA3.jpg" alt="cable">
                </a>
            </div>

            <div class="col-sm-3 col-xs-6">
                <a href="#">
                    <img class="img-responsive portfolio-item" src="img/cableA4.jpg" alt="cable">
                </a>
            </div>

        </div>
        <!-- /.row -->
        
		<button class="button"><a href="remax.html"><span>Back</span></a></button>
		
		<!-- jQuery -->
		<script src="vendor/jquery/jquery.js"></script>

		<!-- Bootstrap Core JavaScript -->
		<script src="vendor/bootstrap/js/bootstrap.min.js"></script>

		<!-- Plugin JavaScript -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

		<!-- Cart -->
		<script>
			
			var cart;
			
			if(localStorage.accessoryCart!=null) {
			cart = JSON.parse(localStorage.accessoryCart);
			} else {
				cart = [];
			}
			
			var myAccessory = {};
		
			function addCart (title,code,price,img) {
			//console.log(title, code, price, img);
			
			//define product exist or not
				var accessoryExist = false;
				var selectedIndex = 0;
				
				for (var i=0; i < cart.length; i++) {
					if (cart[i].code == code) {
						accessoryExist = true;
						selectedIndex = i;
						break;
					}
				}
				
				if (accessoryExist == true) {
				
					cart[selectedIndex].qty++;
					
				} else {
				
					var id = cart.length+1;
					
					myAccessory = {"id":id, "title":title, "code":code, "price":price, "img":img, "qty":1};
					cart.push(myAccessory);
				}
			
			console.log(cart);
				
			calculateTotalPrice();

			$("li.dropdown").toggleClass('open');
			
			}
			
			function calculateTotalPrice() {
			
				var total = 0;
				$("#accessoryCart").html('');
				
				for (i=0; i < cart.length; i++) {
					subtotal = cart[i].price * cart[i].qty;
					total += subtotal;
				
				var tr = "";
				tr += '<td>' +cart[i].title+ '</td>';
				tr += '<td>' +cart[i].code+ '</td>';
				tr += '<td><a href="javascript:minusCart('+cart[i].id+');" class="btn btn-xs btn-danger" style="display:inline">-</a>' +cart[i].qty+ '<a href="javascript:plusCart('+cart[i].id+');" class="btn btn-xs btn-danger" style="display:inline">+</a></td>';
				tr += '<td>' +cart[i].price+ '</td>';			
				tr += '<td>' +subtotal+ '</td>';
				tr += '<td><a href="javascript:deleteCart('+cart[i].id+');" class="btn btn-xs btn-primary"><i class="glyphicon glyphicon-trash"></i></a></td>';
				
				var trDom = $("<tr>").html(tr);
				$ ("#accessoryCart").append(trDom);
				
				}
				
				$("#myTotal").html(total);
				
			localStorage.accessoryCart = JSON.stringify(cart);
			
			}
			
			function plusCart(id) {
				for (i=0; i < cart.length; i++) {
					if (cart[i].id == id) {
						cart[i].qty++ ;
					}
				}
				
			calculateTotalPrice();
			
			}
			
			function minusCart(id) {
				for (i=0; i < cart.length; i++){
					if (cart[i].id == id) {
						cart[i].qty-- ;
						if (cart[i].qty <= 0){
							deleteCart(id);
						}
					} 
				}
				
			calculateTotalPrice();
			
			}
			
			function deleteCart(id) {
				var tmpCart = [];
				for (i=0; i < cart.length; i++) {
					if (cart[i].id != id) {
						tmpCart.push(cart[i]);
					}
				}
				
			cart = tmpCart;
			
			calculateTotalPrice();
			
			}
			
		calculateTotalPrice();
		
		$('li.dropdown a').on('click', function (event) {
        $(this).parent().toggleClass('open');
		});

		$('body').on('click', function (e) {
			if (!$('li.dropdown').is(e.target) 
				&& $('li.dropdown').has(e.target).length === 0 
				&& $('.open').has(e.target).length === 0
			) 	{
				$('li.dropdown').removeClass('open');
			}
		
		});
			
		function subscribeNews() {
			document.getElementById('subscribe').submit();
		}
		
		</script>
	
	
	<!-- .footer start -->
	<section class="footer">
		<div class="container text-center">
			<div class="col-md-4">
				<h3>Join Our Newsletter</h3>
				<form id="subscribe">
					<input type="email" id="emailSubscribe" placeholder="Enter your email address" style="background-color:#B8B8B8; padding:15px 30px; border:1px solid #B8B8B8">
					<input type="submit" class="btn btn-default subscribe" onclick="subscribeNews() "value="Subscribe">
				</form>	
			</div>
		
	
	
			<div class="col-md-4">
				<h3>Keep Updated</h3>
					<ul class="footer-icon">
						<li><a href="http://facebook.com/"><i class="fa fa-facebook"></i></a></li>
						<li><a href="http://linkedin.com/"><i class="fa fa-linkedin"></i></a></li>
						<li><a href="http://twitter.com/"><i class="fa fa-twitter"></i></a></li>
						<li><a href="http://plus.google.com/"><i class="fa fa-google-plus"></i></a></li>
					</ul>
			</div>
			
			<div class="col-md-4">
				<h3>How To <a href="contact.html">Find Us?</a></h3>
					<ul class="list-icon">
						<li><i class="fa fa-map-marker"></i> One infinity loop, 54100</li>
						<li><i class="fa fa-phone"></i> 6836 6964</li>
						<li><i class="fa fa-envelope-o"></i><a href="#"> enquiry@gmail.com</a></li>
					</ul>
			</div>
		
		</div>	
	</section>
  
    <section class="sub-footer">
        <div class="container text-center">
			<p>Copyright &copy; Your Website 2016</p>
        </div>
    </section>
	<!-- .footer end -->

	
</body>

</html>